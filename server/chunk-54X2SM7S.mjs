import './polyfills.server.mjs';
import{a as ee}from"./chunk-TYYHBZFJ.mjs";import{a as Y}from"./chunk-Q2LXH3VF.mjs";import{a as Q,b as X}from"./chunk-F3RAIVWP.mjs";import{a as U,b as q,c as J,d as K}from"./chunk-3JPI36KC.mjs";import{a as Z}from"./chunk-S5XXMMGT.mjs";import{a as N}from"./chunk-LPFLUTBB.mjs";import{a as B}from"./chunk-FEA2V6RU.mjs";import{a as $,c as z,g as G,l as R}from"./chunk-YYN6UEDP.mjs";import"./chunk-6IZCGQXE.mjs";import{c as V}from"./chunk-23FX4FOH.mjs";import{Ba as f,E as p,Ea as I,Fa as _,Ha as y,Ia as T,Ja as n,K as v,Ka as r,L as h,La as l,M as E,N as H,Oa as M,Pb as L,Qa as P,Ra as c,Ya as s,Za as x,_a as C,ab as O,bb as W,cb as F,eb as D,fb as j,ga as w,ib as d,ja as o,jb as S,kb as b,lc as A,pa as k,ua as g}from"./chunk-AQGHY2O6.mjs";import"./chunk-X2SEQXRR.mjs";var ie=(t,i)=>i._id,ne=(t,i)=>i.id,oe=t=>["/details",t],re=(t,i)=>({"text-red-600":t,"text-black":i});function ae(t,i){t&1&&l(0,"img",17)}function le(t,i){t&1&&l(0,"img",18)}function se(t,i){t&1&&l(0,"img",19)}function ce(t,i){t&1&&l(0,"img",20)}function me(t,i){t&1&&l(0,"img",21)}function pe(t,i){if(t&1&&(n(0,"div"),l(1,"img",22),n(2,"h3",23),s(3),r()()),t&2){let e=c().$implicit;o(),f("src",e.image,w)("alt",e.name),o(2),x(e.name)}}function de(t,i){t&1&&g(0,pe,4,3,"ng-template",3)}function ue(t,i){t&1&&(n(0,"span"),l(1,"i",42),r())}function ge(t,i){t&1&&(n(0,"span"),l(1,"i",42),r())}function fe(t,i){}function xe(t,i){if(t&1){let e=M();n(0,"div",24)(1,"div",25)(2,"div",26),l(3,"img",27),r(),n(4,"div",28)(5,"h4",29),s(6),r(),n(7,"h3",30),s(8),d(9,"term"),r(),n(10,"div",31)(11,"span",32),s(12,"Price : "),n(13,"span",33),s(14),d(15,"currency"),r()(),n(16,"div",34),l(17,"i",35),n(18,"span",36),s(19),r()()(),l(20,"div",37),r()(),n(21,"div",38)(22,"button",39),P("click",function(){v(e);let u=c().$implicit,m=c();return h(m.addToCart(u.id))}),s(23),d(24,"translate"),g(25,ue,2,0,"span"),r(),n(26,"button",40),P("click",function(){v(e);let u=c().$implicit,m=c();return h(m.addToWishlist(u.id))})("click",function(){v(e);let u=c(2);return h(u.toogleWishlisted())}),l(27,"i",41),g(28,ge,2,0,"span")(29,fe,0,0),r()()()}if(t&2){let e=c().$implicit,a=c();o(),f("routerLink",D(21,oe,e._id)),o(2),f("src",e.imageCover,w)("alt",e.title),o(3),x(e.category.name),o(2),x(b(9,13,e.title,4)),o(6),x(b(15,16,e.price,"EGP")),o(5),x(e.ratingsAverage),o(4),C(" ",S(24,19,"shopcart.add to cart")," "),o(2),_(a.isLoading?25:-1),o(),I(j(23,re,a.isWishlisted,!a.isWishlisted)),o(2),_(a.isAdded?28:-1),o(),_(a.isWishlisted?29:-1)}}function _e(t,i){if(t&1&&g(0,xe,30,26,"div",24),t&2){let e=i.$implicit;_(e.price>1500&&e.ratingsAverage>3.5?0:-1)}}var te=class t{productsService=p(U);categoriesService=p(Y);cartService=p(N);toastrService=p(Z);wishlistService=p(ee);ngxSpinnerService=p(B);customMainOptions={loop:!0,mouseDrag:!0,rtl:!0,touchDrag:!0,pullDrag:!1,dots:!1,autoplay:!0,navSpeed:700,navText:["",""],items:1};customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,rtl:!0,dots:!0,autoplay:!0,autoplaySpeed:2e3,navSpeed:700,navText:["Previous","Next"],responsive:{0:{items:1},400:{items:1},740:{items:3},940:{items:4}},nav:!0};text=" ";isLoading=!1;isAdded=!1;isWishlisted=!1;products=[];categories=[];ngOnInit(){this.getProductsData(),this.getCategoryData()}getProductsData(){this.ngxSpinnerService.show("loading-2"),this.productsService.getAllProducts().subscribe({next:i=>{this.products=i.data,this.ngxSpinnerService.hide("loading-2")},error:i=>{console.log(i)}})}getCategoryData(){this.categoriesService.getAllCategories().subscribe({next:i=>{this.categories=i.data},error:i=>{console.log(i)}})}addToCart(i){this.isLoading=!0,this.cartService.addProductToCart(i).subscribe({next:e=>{console.log(e),this.isLoading=!1,this.toastrService.success(e.message," Fresh Cart "),this.cartService.cartNumber.set(e.numOfCartItems),console.log(this.cartService.cartNumber)},error:e=>{console.log(e),this.isLoading=!0}})}addToWishlist(i){this.isAdded=!0,this.wishlistService.addProductToWishList(i).subscribe({next:e=>{console.log(e),this.isAdded=!1,this.toastrService.success(e.message),e.status==="success"&&(this.isWishlisted=!1)},error:e=>{console.log(e),this.isAdded=!0}})}toogleWishlisted(){this.isWishlisted=!this.isWishlisted}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-home"]],decls:33,vars:12,consts:[[1,"flex","flex-col","md:flex-row","md:flex-nowrap","flex-wrap","mb-10"],[1,"w-full","sm:w-12/12","md:w-9/12"],[3,"options"],["carouselSlide",""],[1,"w-full","sm:w-12/12","sm:self-center","md:w-3/12","md:self-end"],["src","/images/grocery-banner-2.jpeg","alt","",1,"w-full","h-[150px]"],["src","/images/grocery-banner.png","alt","",1,"w-full","h-[150px]"],[1,"section__2"],[1,"rounded-2xl","text-[20px]","font-[600]","sm:font-[40px]","title","bg-[#24B425]","px-1","w-1/4","text-center","my-5","py-2","block","mx-auto","text-white","header__title"],[1,"",3,"options"],[1,"rounded-2xl","text-[20px]","font-[600]","sm:font-[40px]","title","bg-[#24B425]","px-1","w-1/4","text-center","my-5","py-2","block","mx-auto","text-white"],[1,"relative","block"],[1,"sr-only"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-2"],["viewBox","0 0 20 20",1,"h-5","w-5","fill-slate-300"],["placeholder","Search by top rated product...","type","search","name","search",1,"mb-5","w-1/2","placeholder:italic","placeholder:text-slate-400","block","bg-white","mx-auto","border","border-slate-300","rounded-md","py-2","pl-9","pr-3","shadow-sm","focus:outline-none","focus:border-green-500","focus:ring-green-500","focus:ring-1","sm:text-sm",3,"ngModelChange","ngModel"],[1,"grid","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-10"],["src","/images/img1.avif","alt","",1,"w-full","object-cover","h-[300px]"],["src","/images/img2.avif","alt","",1,"w-full","object-cover","h-[300px]"],["src","/images/img3.avif","alt","",1,"w-full","object-cover","h-[300px]"],["src","/images/img4.avif","alt","",1,"w-full","object-cover","h-[300px]"],["src","/images/img5.avif","alt","",1,"w-full","object-cover","h-[300px]"],[1,"w-full","h-[400px]","object-fill","rounded-2xl",3,"src","alt"],[1,"text-green-600","text-center"],[1,"card","border","bg-white","border-green-400/50","rounded-md","overflow-hidden","shadow","relative"],[1,"cursor-pointer",3,"routerLink"],[1,"card-img"],[1,"w-full","h-[250px]","object-contain",3,"src","alt"],[1,"card-body","px-5","py-4"],[1,"text-green-500","text-xl"],[1,"font-medium"],[1,"flex","justify-between","items-center"],[1,"text-green-600"],[1,"text-yellow-500","font-bold"],[1,"flex","items-center"],[1,"fas","fa-star","text-yellow-300"],[1,"text-gray-500"],[1,"mt-2"],[1,"flex","justify-between","items-center","px-4"],[1,"bg-green-600","text-white","border","rounded-lg","p-2","w-2/4",3,"click"],[1,"border","rounded-lg","p-2","w-1/8",3,"click"],[1,"fas","fa-heart"],[1,"fas","fa-spin","fa-spinner"]],template:function(e,a){e&1&&(n(0,"section")(1,"div",0)(2,"div",1)(3,"owl-carousel-o",2),g(4,ae,1,0,"ng-template",3)(5,le,1,0,"ng-template",3)(6,se,1,0,"ng-template",3)(7,ce,1,0,"ng-template",3)(8,me,1,0,"ng-template",3),r()(),n(9,"div",4),l(10,"img",5)(11,"img",6),r()()(),n(12,"section",7)(13,"h2",8),s(14),d(15,"translate"),r(),n(16,"owl-carousel-o",9),y(17,de,1,0,null,3,ie),r()(),n(19,"section")(20,"h2",10),s(21),d(22,"translate"),r(),n(23,"label",11)(24,"span",12),s(25,"Search"),r(),n(26,"span",13),E(),l(27,"svg",14),r(),H(),n(28,"input",15),F("ngModelChange",function(m){return W(a.text,m)||(a.text=m),m}),r()(),n(29,"div",16),y(30,_e,1,1,null,null,ne),d(32,"search"),r()()),e&2&&(o(3),f("options",a.customMainOptions),o(11),C(" ",S(15,5,"home.Popular Categories")," "),o(2),f("options",a.customOptions),o(),T(a.categories),o(4),C(" ",S(22,7,"home.Top Rated Products")," "),o(7),O("ngModel",a.text),o(2),T(b(32,9,a.products.slice(0,56),a.text)))},dependencies:[K,J,q,A,Q,X,R,$,z,G,L,V],styles:[".card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transform:translateY(100%);transition:all .5s;opacity:0}.card[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}"]})};export{te as HomeComponent};
