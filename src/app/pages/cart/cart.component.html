<section class="w-4/5 bg-gray-100 border border-gray-400 rounded-md shadow p-4 mx-auto my-4">


    <div class="flex flex-col sm:flex-row sm:justify-between ">
      <div class="self-center sm:self-start ">
        <h2 class="text-green-500 text-2xl font-semibold text-center sm:text-start">{{"shopcart.Shop cart"|translate}}</h2>

        @if (cartDetails.totalCartPrice >1) {
            <h4 class="text-green-500 text-xl  my-4 font-[600]">{{"shopcart.Total cart price"|translate }} : <span class="text-yellow-500 underline">{{cartDetails.totalCartPrice | currency:"EGP" }}</span> </h4>
        }
      </div>


        <div class="self-center sm:self-end">
            <button 
            (click)="emptyCartItems()"
             class="btn-remove mr-4 ">{{"shopcart.Empty cart"| translate}}</button>
        </div>
        
        
    </div>


  @for (prod of cartDetails.products; track prod.product.id) {

    <div class=" grid sm:grid-cols-[20%_minmax(0,1fr)] bg-gray-200 hover:bg-gray-300 my-2 rounded-lg">
        <div class="p-3 flex justify-center items-center">
            <img [src]="prod.product.imageCover" class="w-[100px] h-[100px]  rounded-xl" [alt]="prod.product.title">

        </div>

        <div class="flex flex-col items-center justify-center sm:flex-row sm:justify-between sm:items-center sm:w-[90%]">
            <div class="flex flex-col justify-center items-center  mb-4 ">
                <h3 class="my-2 text-center sm:text-start text-xl font-[600] sm:self-start">{{prod.product.title}}</h3>
                <h5 class="my-2 text-center text-green-600 sm:self-start">{{"shopcart.Price"|translate}} :  <span class="text-yellow-500">{{prod.price | currency : 'EGP'}}</span></h5>
                
                <button (click)="removeCartItem(prod.product.id)" class="sm:self-start"><i class="fas fa-trash-can text-green-500 "></i> {{"shopcart.remove item"|translate }}</button>
            </div>
            <div>

            </div>

            <div class="flex flex-row  justify-center items-center gap-2  my-4">
                <button (click)="updateCount(prod.product.id , prod.count - 1 )" class="bg-[#24B425] px-1 rounded-lg hover:bg-gray-600  border-gray-500 border-[2px]  hover:text-white "><i class="fas fa-minus"></i></button>
                <p>{{prod.count}}</p>
                <button (click)="updateCount(prod.product.id , prod.count + 1 )" class="bg-[#24B425] px-1 rounded-lg hover:bg-gray-600  border-gray-500 border-[2px] hover:text-white"><i class="fas fa-plus"></i></button>
            </div>

        </div>
    </div>

  }


  <div class="flex  justify-center items-center sm:justify-start ">
    <button class="btn-main mt-6  mr-4 " [routerLink]="['/checkout' , cartDetails._id]">{{"shopcart.Checkout"|translate}}</button>

  </div>

 
   


 


</section>